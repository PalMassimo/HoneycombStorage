(function(e){function t(t){for(var a,s,i=t[0],l=t[1],u=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={index:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/consumersrealm/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},"065c":function(e,t,n){},"0bb2":function(e,t,n){},"24c7":function(e,t,n){"use strict";var a=n("065c"),r=n.n(a);r.a},"2fb6":function(e,t,n){},"47e7":function(e,t,n){"use strict";var a=n("7dc8"),r=n.n(a);r.a},4819:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view",{attrs:{uploaders:e.uploaders}})],1)},o=[],s=(n("4160"),n("159b"),n("bc3a")),i=n.n(s),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h1",[n("img",{attrs:{src:"bee.png",alt:"bee"}}),n("router-link",{attrs:{to:"/"}},[e._v("HONEYCOMB STORAGE")]),n("img",{attrs:{src:"honeycomb.png",alt:"honeycomb"}})],1),n("router-link",{attrs:{to:"/privatearea"}},[e._v("Private Area")])],1)},u=[],c={name:"Header"},d=c,p=(n("de1e"),n("2877")),f=Object(p["a"])(d,l,u,!1,null,"e6073982",null),m=f.exports,v={name:"App",components:{Header:m},data:function(){return{uploaders:[]}},created:function(){var e=this;i.a.get("".concat("/api/","consumerarea/consumernews")).then((function(t){e.uploaders=t.data;var n=[];e.uploaders.forEach((function(e){var t={unseenFiles:0,username:e.username};e.files.forEach((function(e){""===e.seen&&t.unseenFiles++})),n.push(t)}));var a={username:"",change:!1};n.forEach((function(e){0!==e.unseenFiles&&!1===a.change&&"none"!==a.username?(a.username=e.username,a.change=!0):0!==e.unseenFiles&&!0===a.change&&(a.change=!1,a.username="none")})),a.change&&e.$route.fullPath!=="/uploader/".concat(a.username)&&e.$router.push({name:"Uploader",params:{username:a.username}})})).catch((function(e){alert("it wasn't possible load correctly the page... Try later"),console.log(e)}))}},h=v,g=(n("034f"),Object(p["a"])(h,r,o,!1,null,null,null)),_=g.exports,y=n("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Consumer Homepage")]),0!==e.totUploaders?n("p",[e._v(" Are listed all yours uploaders: currently You have "+e._s(e.totUploaders)+" uploaders. Select one of them to see the files they sent to you. The dates refer to GMT + 0. ")]):n("p",[e._v("You have not any uploader yet...")]),n("section",e._l(e.uploaders,(function(t,a){return n("router-link",{key:a,staticClass:"router-link",attrs:{to:{path:"/uploader/"+t.username}},on:{click:function(t){return e.setCurrentUploader(a)}}},[n("UploaderCard",{attrs:{uploader:t}})],1)})),1)])},w=[],k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[n("img",{attrs:{src:this.logo,alt:"logo_uploader"}}),n("h1",[e._v("Uploader "+e._s(e.uploader.username))]),0!==e.unreadFiles?n("p",[e._v("Has sent "+e._s(e.unreadFiles)+" new files to you!")]):n("p",[e._v("has no new files for you...")])])},O=[],x={props:["uploader"],name:"UploaderCard",computed:{unreadFiles:function(){var e=0;return void 0!==this.uploader.files?(this.uploader.files.forEach((function(t){""===t.seen&&e++})),e):0},logo:function(){return""===this.uploader.logo?"/default_profile_picture.png":"data:image/jpeg;base64, ".concat(this.uploader.logo)}}},U=x,F=(n("57d1"),Object(p["a"])(U,k,O,!1,null,"30e1c677",null)),S=F.exports,E={name:"Home",components:{UploaderCard:S},props:["uploaders"],computed:{totUploaders:function(){return this.uploaders.length}}},j=E,P=(n("24c7"),Object(p["a"])(j,b,w,!1,null,"4497b888",null)),$=P.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!==e.currentUploader?n("main",[n("UploaderItem",{staticClass:"uploaderItem",attrs:{uploader:e.currentUploader}}),void 0!==e.currentFiles?n("FileTable",{staticClass:"FileTable",attrs:{files:e.currentFiles}}):e._e()],1):e._e()},T=[],H=(n("99af"),n("4de4"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[n("img",{attrs:{src:this.logo,alt:"logo_uploader"}}),n("em",[e._v("Uploader "+e._s(e.uploader.username))])])}),A=[],D={props:["uploader"],name:"UploaderItem",computed:{unreadFiles:function(){var e=0;return void 0!==this.uploader.files?(this.uploader.files.forEach((function(t){""===t.seen&&e++})),e):0},logo:function(){return""===this.uploader.logo?"/default_profile_picture.png":"data:image/jpeg;base64, ".concat(this.uploader.logo)}}},N=D,M=(n("daec"),Object(p["a"])(N,H,A,!1,null,"fc7fa536",null)),B=M.exports,L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.hashtag,expression:"hashtag"}],attrs:{type:"text",placeholder:"filter by hashtag..."},domProps:{value:e.hashtag},on:{input:function(t){t.target.composing||(e.hashtag=t.target.value)}}})]),n("table",[e._m(0),0!==e.filesFilter.length?n("tbody",e._l(e.filesFilter,(function(t,a){return n("tr",{key:a},[n("td",[e._v(e._s(t.name))]),n("td",[e._v(e._s(t.hashtags.join(", ")))]),n("td",[e._v(e._s(t.uploaded))]),""!==t.seen?n("td",[e._v(e._s(t.seen))]):n("td",[e._v("unseen file")]),n("td",[n("a",{attrs:{href:t.link}},[n("img",{attrs:{src:"download_icon.png",alt:"download"}})])])])})),0):n("tbody",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"center","align-items":"center"}},[n("em",{staticStyle:{"text-align":"center"}},[e._v("there are no files uplaoded for you yet...")])])])])},R=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("Name")]),n("th",[e._v("Hashtags")]),n("th",[e._v("Uploaded")]),n("th",[e._v("Seen")]),n("th",[e._v("Download")])])])}],W=(n("caad"),n("2532"),{props:["files"],data:function(){return{hashtag:""}},computed:{filesFilter:function(){var e=this;return""!==this.hashtag?this.files.filter((function(t){for(var n=0;n<t.hashtags.length;n++)if(t.hashtags[n].toLowerCase().includes(e.hashtag.toLowerCase()))return!0;return!1})):this.files}}}),I=W,Y=(n("9b96"),Object(p["a"])(I,L,R,!1,null,"6a816326",null)),G=Y.exports,J={name:"Uploader",components:{UploaderItem:B,FileTable:G},props:["uploaders"],methods:{compareElementsBySeen:function(e,t){return""!==e.seen&&""===t.seen?-1:""===e.seen&&""!==t.seen?1:0},compareElementsByUploadDate:function(e,t){var n=new Date(e.uploaded),a=new Date(t.uploaded);return a-n}},computed:{currentFiles:function(){var e=this;if(this.uploaders.length>0){var t=this.uploaders.filter((function(t){return t.username===e.$route.params.username})).map((function(e){return e["files"]}))[0],n=t.filter((function(e){return""===e.seen})),a=t.filter((function(e){return""!==e.seen}));return n.sort(this.compareElementsByUploadDate),a.sort(this.compareElementsByUploadDate),n.concat(a)}return null},currentUploader:function(){var e=this;return this.uploaders.length>0?this.uploaders.filter((function(t){return t.username===e.$route.params.username}))[0]:null}}},q=J,z=(n("47e7"),Object(p["a"])(q,C,T,!1,null,"64f7aa8e",null)),K=z.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h1",[e._v("Private Area")]),n("p",[e._v(" Dear "+e._s(e.info.nameSurname.value)+", below are reported your information, which you can change (except your username). "),n("a",{on:{click:function(t){return e.commitChanges()}}},[e._v("Save")]),e._v(" changes. "),0===e.info.totUnseenFiles?n("span",[e._v("All files have been read, good job!.")]):n("span",[e._v("We remind you that there are files you have not downloaded yet.")])]),0!==e.info.length?n("table",[e._m(0),n("tr",[n("th",[e._v("Username")]),n("td",[e._v(e._s(e.info.username))])]),n("tr",[n("th",[e._v("Name, Surname")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.info.nameSurname.value,expression:"info.nameSurname.value"}],class:[e.info.nameSurname.active?"active":"inactive"],attrs:{type:"text",readonly:""},domProps:{value:e.info.nameSurname.value},on:{click:function(t){return e.setWritable(e.info.nameSurname)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setReadOnly(e.info.nameSurname)},input:function(t){t.target.composing||e.$set(e.info.nameSurname,"value",t.target.value)}}})])]),n("tr",[n("th",[e._v("Email")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.info.email.value,expression:"info.email.value"}],class:[e.info.email.active?"active":"inactive"],attrs:{type:"text",readonly:""},domProps:{value:e.info.email.value},on:{click:function(t){return e.setWritable(e.info.email)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setReadOnly(e.info.email)},input:function(t){t.target.composing||e.$set(e.info.email,"value",t.target.value)}}})])]),n("tr",[n("th",[e._v("Password")]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.info.password.value,expression:"info.password.value"}],class:[e.info.password.active?"active":"inactive"],attrs:{type:"password",readonly:""},domProps:{value:e.info.password.value},on:{click:function(t){e.showPassword(),e.setWritable(e.info.password)},keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.hidePassword(),e.setReadOnly(e.info.password)},input:function(t){t.target.composing||e.$set(e.info.password,"value",t.target.value)}}})])]),n("tr",[n("th",[e._v("Total Uploaders")]),n("td",[e._v(e._s(e.info.totUploaders))])]),n("tr",[n("th",[e._v("Total Files")]),n("td",[e._v(e._s(e.info.totFiles))])]),n("tr",[n("th",[e._v("Total Unseen Files")]),n("td",[e._v(e._s(e.info.unseenFiles))])]),n("tr",[n("th",[e._v("Total Seen Files")]),n("td",[e._v(e._s(e.info.seenFiles))])])]):e._e(),n("form",{attrs:{action:e.logoutLink(),method:"post"}},[n("input",{attrs:{type:"submit",value:"Logout"}})])])},V=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("colgroup",[n("col"),n("col")])}],X={name:"PrivateArea",data:function(){return{info:{username:"loading...",email:{value:"loading...",active:!1},nameSurname:{value:"loading...",active:!1},password:{value:"",active:!1},totFiles:"loading...",seenFiles:"loading...",unseenFiles:"loading...",totUploaders:"loading..."}}},created:function(){var e=this;i.a.get("".concat("/api/","consumerarea/consumer")).then((function(t){e.info=t.data,e.info.email={value:t.data.email,active:!1},e.info.nameSurname={value:t.data.nameSurname,active:!1},e.info.password={value:t.data.password,active:!1}})).catch((function(e){alert("something went wrong loading your information"),console.log(e)}))},methods:{logoutLink:function(){return"".concat("","/logout")},showPassword:function(){event.target.type="text"},hidePassword:function(){event.target.type="password"},setReadOnly:function(e){event.target.readOnly=!0,e.active=!1},setWritable:function(e){event.target.readOnly=!1,e.active=!0},commitChanges:function(){var e={username:this.info.username,nameSurname:this.info.nameSurname.value,email:this.info.email.value,password:this.info.password.value};i.a.post("".concat("/api/","consumerarea/consumer"),e).then((function(){return alert("changes saved correctly!")})).catch((function(e){console.log(e),alert("something went wrong...")}))}}},Z=X,ee=(n("a090"),Object(p["a"])(Z,Q,V,!1,null,"18a108e0",null)),te=ee.exports;a["a"].use(y["a"]);var ne=[{path:"/",name:"Home",component:$},{path:"/uploader/:username",name:"Uploader",component:K},{path:"/privatearea",name:"PrivateArea",component:te}],ae=new y["a"]({routes:ne}),re=ae;a["a"].config.productionTip=!1,new a["a"]({el:"#app",router:re,render:function(e){return e(_)}}).$mount("#app")},"57d1":function(e,t,n){"use strict";var a=n("4819"),r=n.n(a);r.a},"592b":function(e,t,n){},"7dc8":function(e,t,n){},"85ec":function(e,t,n){},"9b96":function(e,t,n){"use strict";var a=n("ef23"),r=n.n(a);r.a},a090:function(e,t,n){"use strict";var a=n("592b"),r=n.n(a);r.a},daec:function(e,t,n){"use strict";var a=n("2fb6"),r=n.n(a);r.a},de1e:function(e,t,n){"use strict";var a=n("0bb2"),r=n.n(a);r.a},ef23:function(e,t,n){}});
//# sourceMappingURL=index.4aec6494.js.map